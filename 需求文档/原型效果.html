import { Badge } from './components/ui/badge';
import { Phone, Mail, MapPin, Cpu, Terminal, Globe, GraduationCap, CheckCircle, Sparkles } from 'lucide-react';
import profileImage from 'figma:asset/acdf3c8d5b8a3f37c5d07db12cc45b2f16760d95.png';
import projectImg1 from 'figma:asset/095d9c9667092aa87b641e9f16466aa102dc990e.png';
import projectImg2 from 'figma:asset/eba8dfbd94f68dfafebc9b889f8f07289cd03912.png';

// --- Components ---

const ExperienceItem = ({ role, company, period, achievements, tags, description, highlight }: any) => (
  <div className="relative pl-8 pb-10 last:pb-0 border-l border-slate-200 ml-2 group">
    <div className="absolute -left-[5px] top-1.5 h-2.5 w-2.5 rounded-full bg-white border-2 border-slate-300 group-hover:border-blue-600 group-hover:scale-125 transition-all" />
    
    <div className="flex flex-col sm:flex-row sm:items-baseline justify-between mb-1">
      <h3 className="font-bold text-slate-900">{company}</h3>
      <span className="text-sm font-medium text-slate-500 font-mono">{period}</span>
    </div>
    
    <div className="text-base font-semibold text-blue-700 mb-3">{role}</div>
    
    {highlight && (
      <div className="mb-5 text-sm text-slate-500 pl-3 border-l-2 border-slate-300 py-1 italic leading-relaxed">
        <span className="font-semibold text-slate-700 not-italic">职业基石：</span>
        {highlight}
      </div>
    )}
    
    <div className="space-y-3 mb-5">
      {achievements.map((item: any, i: number) => (
        <div key={i} className="flex items-start gap-3 text-sm text-slate-700 leading-relaxed group/item">
          <CheckCircle className="w-4 h-4 text-blue-500 mt-1 shrink-0 opacity-0 group-hover/item:opacity-100 transition-opacity" />
          <span><span className="font-semibold text-slate-900">{item.title}：</span>{item.detail}</span>
        </div>
      ))}
    </div>

    <div className="flex flex-wrap gap-2">
      {tags.map((t: string) => (
        <Badge key={t} variant="outline">
          {t}
        </Badge>
      ))}
    </div>
  </div>
);

// Portfolio Card with Image Preview
const PortfolioCard = ({ title, desc, tech, impact, imageSrc }: any) => (
  <div className="bg-slate-800/50 border border-slate-700/50 rounded-lg overflow-hidden hover:border-blue-500/50 transition-all group mb-4">
    {/* Image Preview */}
    <div className="h-32 bg-slate-900 relative overflow-hidden flex items-center justify-center">
      <img 
        src={imageSrc} 
        alt={title} 
        className="max-w-full max-h-full object-contain group-hover:opacity-90 transition-opacity group-hover:scale-105 duration-500" 
      />
    </div>
    
    <div className="p-3">
      <div className="flex items-center justify-between mb-1">
        <h4 className="font-bold text-slate-100 text-sm">{title}</h4>
        <span className="text-[10px] bg-blue-900/50 text-blue-200 px-1.5 py-0.5 rounded border border-blue-800">{impact}</span>
      </div>
      <p className="text-[11px] text-slate-400 leading-snug mb-2 line-clamp-2">
        {desc}
      </p>
      <div className="flex flex-wrap gap-1">
        {tech.map((t: string) => (
          <span key={t} className="text-[9px] text-slate-300 bg-slate-700 px-1.5 py-0.5 rounded">#{t}</span>
        ))}
      </div>
    </div>
  </div>
);

export default function App() {
  return (
    <div className="min-h-screen bg-slate-100 text-slate-900 font-sans py-8 px-4 sm:px-6 lg:px-8 selection:bg-blue-100 selection:text-blue-900">

      <div className="max-w-6xl mx-auto bg-white shadow-2xl shadow-slate-200/50 rounded-2xl overflow-hidden">
        
        <div className="grid grid-cols-1 lg:grid-cols-12 min-h-[900px]">
          
          {/* Sidebar (Left) - Dark Theme */}
          <aside className="lg:col-span-3 bg-[#0F172A] text-slate-300 p-6 border-r border-slate-800 flex flex-col">
            
            {/* Header / Name Area */}
            <div className="mb-8 text-center">
              <div className="w-32 h-32 rounded-2xl overflow-hidden border-2 border-slate-700 shadow-lg mb-4 mx-auto">
                <img src={profileImage} alt="张潇" className="w-full h-full object-cover object-[50%_20%]" />
              </div>
              <h1 className="font-bold text-white tracking-tight mb-1">张潇</h1>
              <div className="text-sm font-medium text-blue-400 mb-4">AI 产品经理</div>
              
              <div className="space-y-2 text-xs text-left">
                <a href="tel:13919900118" className="flex items-center gap-2 hover:text-white transition-colors">
                  <Phone className="w-3.5 h-3.5" /> 13919900118
                </a>
                <a href="mailto:492197023@qq.com" className="flex items-center gap-2 hover:text-white transition-colors">
                  <Mail className="w-3.5 h-3.5" /> 492197023@qq.com
                </a>
                <div className="flex items-center gap-2">
                  <MapPin className="w-3.5 h-3.5" /> 成都 · 35岁
                </div>
              </div>
            </div>

            <div className="space-y-8 flex-1">
              
              {/* Skills */}
              <div>
                <h3 className="text-xs font-bold uppercase tracking-widest text-slate-500 mb-3 flex items-center gap-2">
                  <Cpu className="w-3.5 h-3.5" /> 核心技能
                </h3>
                <div className="space-y-4">
                  <div>
                    <div className="text-sm font-bold text-slate-200 mb-1">AI & 技术栈</div>
                    <div className="text-xs text-slate-400 leading-relaxed">Prompt Engineering, Coze Agent 编排, AI 辅助编程</div>
                  </div>
                  <div>
                    <div className="text-sm font-bold text-slate-200 mb-1">数据分析</div>
                    <div className="text-xs text-slate-400 leading-relaxed">Tableau, SQL, 多维表格搭建</div>
                  </div>
                </div>
              </div>

              {/* Portfolio Section */}
              <div>
                <h3 className="text-xs font-bold uppercase tracking-widest text-blue-400 mb-3 flex items-center gap-2">
                  AI 工程化实践
                </h3>
                
                <PortfolioCard 
                  title="公文排版助手"
                  desc="自动化解决公文格式调整耗时痛点，效率提升90倍。"
                  impact="15min -> 10s"
                  tech={['vscode 辅助开发', '桌面应用', '自动化']}
                  imageSrc={projectImg1} 
                />
                
                <PortfolioCard 
                  title="Excel 清洗工具"
                  desc="替代繁琐手工VLOOKUP，数小时工作量秒级完成。"
                  impact="Python Pandas"
                  tech={['vscode 辅助开发', '数据清洗', '办公提效']}
                  imageSrc={projectImg2}
                />
                
                <p className="text-[10px] text-slate-500 italic mt-2">
                  * 以上工具均利用 AI 辅助编程独立开发，验证了 MVP 快速落地能力。
                </p>
              </div>

              {/* Domain Knowledge */}
              <div>
                <h3 className="text-xs font-bold uppercase tracking-widest text-slate-500 mb-3 flex items-center gap-2">
                  <Globe className="w-3.5 h-3.5" /> 业务领域
                </h3>
                <div className="flex flex-wrap gap-1.5">
                  {['财务共享 FSSC', '央企数字化', '国资监管', 'SaaS供应链'].map(tag => (
                    <Badge key={tag} variant="outline" className="bg-slate-800 text-slate-200 border-slate-700">
                      {tag}
                    </Badge>
                  ))}
                </div>
              </div>

              {/* Certifications */}
              <div>
                <h3 className="text-xs font-bold uppercase tracking-widest text-slate-500 mb-3 flex items-center gap-2">
                  <Sparkles className="w-3.5 h-3.5" /> 资质认证
                </h3>
                <div className="space-y-2">
                  <div>
                    <div className="text-sm font-bold text-slate-200">PMP 项目管理认证</div>
                    <div className="text-xs text-slate-400">Project Management Professional</div>
                  </div>
                  <div>
                    <div className="text-sm font-bold text-slate-200">兴城集团认证内训师</div>
                    <div className="text-xs text-slate-400">内部培训体系认证，负责面向集团全员的信息化培训</div>
                  </div>
                </div>
              </div>

              {/* Education */}
              <div>
                <h3 className="text-xs font-bold uppercase tracking-widest text-slate-500 mb-3 flex items-center gap-2">
                  <GraduationCap className="w-3.5 h-3.5" /> 教育背景
                </h3>
                <div>
                  <div className="text-sm font-bold text-slate-200">西南民族大学</div>
                  <div className="text-xs text-slate-400">本科 / 2008-2012</div>
                </div>
              </div>

            </div>
          </aside>

          {/* Main Content (Right) */}
          <main className="lg:col-span-9 p-8 md:p-12">
            
            {/* Profile Summary */}
            <div className="mb-10">
              <div className="flex items-center gap-3 text-lg text-slate-600 mb-4">
                <span className="font-bold text-blue-700">个人简介</span>
                <span className="h-px flex-1 bg-slate-200"></span>
              </div>
              <p className="text-sm text-slate-600 leading-relaxed max-w-3xl">
                12年产品实战经验，<b>京东储备干部</b>出身，持有<b>PMP 认证</b>。现负责<b>成都兴城集团</b>信息化建设，兼任<b>集团信息化内训师</b>，主导财务共享中心从0到1落地。兼具互联网敏捷思维与<b>国企复杂业务的驾驭能力</b>。擅长<b>应用 AI 技术 (Leveraging AI)</b>，利用 Prompt 与 Agent 技术实现 MVP 快速验证，<b>务实解决</b>业务一线的非标难题。
              </p>
            </div>
            
            {/* Personal Advantage */}
            <section className="mb-12">
              <h2 className="font-bold text-slate-900 mb-6 flex items-center gap-2">
                <span className="w-1 h-6 bg-blue-600 rounded-full"></span>
                核心优势
              </h2>
              
              <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div className="bg-slate-50 p-4 rounded-xl border border-slate-100">
                  <strong className="block text-slate-900 text-sm mb-2">深厚的大厂积淀</strong>
                  <p className="text-xs text-slate-500 leading-relaxed">京东(8年)储备干部出身，具备典型的互联网产品基因：<b>坚持用户体验至上，擅长数据驱动决策与敏捷迭代（MVP）</b>。</p>
                </div>
                <div className="bg-slate-50 p-4 rounded-xl border border-slate-100">
                  <strong className="block text-slate-900 text-sm mb-2">熟悉国企数字化生态</strong>
                  <p className="text-xs text-slate-500 leading-relaxed">不只是懂系统，更<b>熟悉体制内业务生态与落地逻辑</b>。具备在复杂环境下，兼顾合规要求与业务效率，推动项目平稳落地的实战经验。</p>
                </div>
                <div className="bg-slate-50 p-4 rounded-xl border border-slate-100">
                  <strong className="block text-slate-900 text-sm mb-2">懂 AI 的驾驭者</strong>
                  <p className="text-xs text-slate-500 leading-relaxed">不局限于传统文档，具备 "Orchestrating AI" 能力。擅长利用 LLM/Agent 技术进行 MVP 快速验证，解决非标业务痛点。</p>
                </div>
              </div>
            </section>

            {/* Work Experience */}
            <section>
              <h2 className="font-bold text-slate-900 mb-8 flex items-center gap-2">
                <span className="w-1 h-6 bg-blue-600 rounded-full"></span>
                工作经历
              </h2>

              <div className="space-y-2">
                <ExperienceItem 
                  company="成都兴城集团投资有限公司"
                  role="资深产品经理 / 财务信息化负责人"
                  period="2022.11 - 至今"
                  description="负责集团信息化建设，主导财全域数字化转型及创新场景落地"
                  achievements={[
                    { title: "AI 场景落地 (POC)", detail: "基于 Coze 搭建财务政策问答 Agent。引入 RAG 知识库构建与 Human-in-the-loop 反馈机制，通过 Workflow 编排实现意图精准识别，成功验证了'自动回复'替代'人工咨询'的技术路径，输出完整智能化建设方案。" },
                    { title: "0-1 体系建设", detail: "主导建设覆盖 234 家单位的集团财务共享中心 (FSSC)。重构全集团费用报销与应收应流程，实现资金收付的集中管控与统一支付，完成从 NC65 核算体系向业财一体化平台的平稳升级。" },
                    { title: "国资合规应用", detail: "搭建财务数据中台，打通核算与资金系统，以此为基座实现国资委(SASAC)'一利五率'等经营指标的自动化合规报送。" },
                    { title: "链路能提升", detail: "构建'填报-审核-支付'自动化闭环。通过 OCR 替代手工录入、RPA 替代人工稽核、银企直连替代网银制单，消除人工断点，将单据平均流转处理时长缩短约 40%（基于人工作业工时测算）。" }
                  ]}
                  tags={["AI Agent", "RAG", "BIP 架构", "财务数字化"]}
                />

                <ExperienceItem 
                  company="多点生活 (Dmall)"
                  role="高级产品经理"
                  period="2020.06 - 2022.10"
                  description="新零售 SaaS 独角兽，负责供应链分销体系搭建"
                  achievements={[
                    { title: "SaaS 化分销体系", detail: "主导设计 SaaS 分销系统，打通京自营 SKU 池，构建'选品-上架-履约-结算'全链路闭环。" },
                    { title: "复杂系统集成", detail: "统筹整合 50+ 周边系统接口，实现业务流、资金流、物流的'三流合一'统一管控。" },
                    { title: "业务价值", detail: "支撑 2021 年业务 GMV 新增 2.5 亿，通过配置化能力灵活满足 ToB/ToC 差异化需求。" }
                  ]}
                  tags={["SaaS", "供应链", "系统集成"]}
                />

                <ExperienceItem 
                  company="京东 (JD.com)"
                  role="客服产品经理"
                  period="2012.04 - 2020.06"
                  description="世界 500 强，8年深耕客服体系，从一线运营成长为系统专家"
                  highlight="以应届生身份入选集团战略级「储备干部(TET)计划」。经业务一线轮岗与大促实战磨砺，快速成长为核心系统专家。"
                  achievements={[
                    { title: "智能客服 (JIMI) 体系共建", detail: "作为早期核心成员参与 JIMI 建设，主导 CUI (对话式交互) 流程设计。构建多层级意图识别模型，通过语义分析优化知识库命中率，有效拦截海量基础咨询，积累了 AI 产品定义与训练的早期实战经验。" },
                    { title: "BPO 商业化闭环", detail: "主导设计服务直通车(SID)系统，构建智能路由与计费模型，成功跑通客服外包的商业盈利模式。" },
                    { title: "体验数字化", detail: "7fresh 门店工单系统重构，整合 IM 与 CRM，使单次会话时长缩短 40%，显著提升人效。" }
                  ]}
                  tags={["NLP", "智能客服", "CRM", "BPO"]}
                />
              </div>
            </section>

          </main>
        </div>
      </div>
    </div>
  );
}